<%
  set_meta_tags(
    title: "Choices - Rails UI Components",
    description: "Enhanced select component with search functionality using Choices.js.",
    keywords: "Rails, UI Components, Choices, Select, Search, Form"
  )
%>
<% breadcrumb :ui_form_builders_choices %>

<article>
  <header class="header">
    <div class="header__heading">
      <h1 class="header__title">Rails <code class="px-1 text-3xl bg-yellow-100">choices</code> examples</h1>
      <p class="header__subtitle">
        Enhanced select field with search functionality, multiple selection support, and custom options using
        <%= link_to "Choices.js", "https://github.com/Choices-js/Choices", class: "link", target: "_blank", rel: "noopener noreferrer" %>
        library.
      </p>
    </div>

    <div class="header__actions">
      <%= link_to "View on GitHub", "https://github.com/jetrockets/ui.jetrockets.com/tree/main/app/lib/form_builders/fields/choices_field.rb", class: "btn btn-secondary", target: "_blank", rel: "noopener noreferrer" %>
    </div>
  </header>

  <section class="mb-12">
    <%= render Ui::Card::Component.new do |component| %>
      <% component.with_header align: :left, title: "Basic Choices" %>

      <% component.with_body do %>
        <%= form_with url: root_path do |f| %>
          <%= f.choices :state, options_for_select([["California", "CA"], ["New York", "NY"], ["Texas", "TX"]]), { include_blank: "Select state…" } %>
        <% end %>
      <% end %>

      <% component.with_footer do %>
        <pre class="w-full"><code>&lt;%= f.choices :state, options_for_select([["California", "CA"], ["New York", "NY"], ["Texas", "TX"]]), { include_blank: "Select state…" }%&gt;</code></pre>
      <% end %>
    <% end %>
  </section>

  <section class="my-12">
    <%= render Ui::Card::Component.new do |component| %>
      <% component.with_header align: :left, title: "Choices sizes" %>

      <% component.with_body do %>
        <%= form_with url: root_path do |f| %>
          <%= f.choices :large_field, ["Yes", "No"], { }, { size: :lg } %>
          <%= f.choices :default_field, ["Yes", "No"], { } %>
          <%= f.choices :small_field, ["Yes", "No"], { }, { size: :sm } %>
        <% end %>
      <% end %>

      <% component.with_footer do %>
        <pre class="w-full"><code>&lt;%= f.text_field :large_field, size: :lg %&gt;
&lt;%= f.text_field :default_field %&gt;
&lt;%= f.text_field :small_field, size: :sm %&gt;</code></pre>
      <% end %>
    <% end %>
  </section>

  <section class="my-12">
    <%= render Ui::Card::Component.new do |component| %>
      <% component.with_header align: :left, title: "Multiple Selection" %>

      <% component.with_body do %>
        <%= form_with url: root_path do |f| %>
          <%= f.choices :languages, ["English", "Spanish", "French", "German", "Italian"], { hint: "Choose languages you speak" }, { multiple: true } %>
          <%= f.choices :skills, ["JavaScript", "Ruby", "Python", "Go", "Rust"], { hint: "Select multiple skills" }, { multiple: true, data: { max_item_count: 2 }, hint: "Max 2 items" } %>
        <% end %>
      <% end %>

      <% component.with_footer do %>
        <pre class="w-full"><code>&lt;%= f.choices :languages, ["English", "Spanish", "French", "German", "Italian"], { hint: "Choose languages you speak" }, { multiple: true } %&gt;
&lt;%= f.choices :skills, ["JavaScript", "Ruby", "Python", "Go", "Rust"], { hint: "Select multiple skills" }, { multiple: true, data: { max_item_count: 2 } } %&gt;</code></pre>
      <% end %>
    <% end %>
  </section>

  <section class="my-12">
    <%= render Ui::Card::Component.new do |component| %>
      <% component.with_header align: :left, title: "Async Search" %>

      <% component.with_body do %>
        <%= form_with url: root_path do |f| %>
          <%= f.choices :country, [], { include_blank: "Select country…" }, { data: { search: countries_path(format: :json) } } %>
        <% end %>
      <% end %>

      <% component.with_footer do %>
        <pre class="w-full"><code>&lt;%= f.choices :country, ["Yes", "No"], {}, { data: { search: countries_path(format: :json) } } %&gt;</code></pre>
      <% end %>
    <% end %>
  </section>

  <section class="my-12">
    <%= render Ui::Card::Component.new do |component| %>
      <% component.with_header align: :left, title: "With Search Field" %>

      <% component.with_body do %>
        <%= form_with url: root_path do |f| %>
          <%= f.choices :gender, ["Male", "Female", "Other"], {}, { data: { search_enabled: true } } %>
        <% end %>
      <% end %>

      <% component.with_footer do %>
        <pre class="w-full"><code>&lt;%= f.choices :gender, ["Male", "Female", "Other"], {}, { data: { searchEnabled: true } } %&gt;</code></pre>
      <% end %>
    <% end %>
  </section>

  <section class="my-12">
    <%= render Ui::Card::Component.new do |component| %>
      <% component.with_header align: :left, title: "Label customization" %>

      <% component.with_body do %>
        <%= form_with url: root_path do |f| %>
          <%= f.choices :custom_label, ["Option 1", "Option 2"], { include_blank: "Select option…" }, { label: "Custom Label Text" } %>
          <%= f.choices :no_label, ["Yes", "No"], {}, { label: false } %>
        <% end %>
      <% end %>

      <% component.with_footer do %>
        <pre class="w-full"><code>&lt;%= f.choices :custom_label, ["Option 1", "Option 2"], { include_blank: "Select option…" }, { label: "Custom Label Text" } %&gt;
&lt;%= f.choices :no_label, ["Yes", "No"], {}, { label: false } %&gt;</code></pre>
      <% end %>
    <% end %>
  </section>


  <section class="my-12">
    <%= render Ui::Card::Component.new do |component| %>
      <% component.with_header align: :left, title: "Hint message" %>

      <% component.with_body do %>
        <%= form_with url: root_path do |f| %>
          <%= f.choices :with_hint, ["Yes", "No"], {}, { hint: "Select an option" } %>
        <% end %>
      <% end %>

      <% component.with_footer do %>
        <pre class="w-full"><code>&lt;%= f.choices :no_label, ["Yes", "No"], {}, { hint: "Select an option" } %&gt;</code></pre>
      <% end %>
    <% end %>
  </section>

  <section class="my-12">
    <%= render Ui::Card::Component.new do |component| %>
      <% component.with_header align: :left, title: "Disabled State" %>

      <% component.with_body do %>
        <%= form_with url: root_path do |f| %>
          <%= f.choices :disabled_field, ["Option 1", "Option 2"], { selected: "Option 1" }, { disabled: true } %>
        <% end %>
      <% end %>

      <% component.with_footer do %>
        <pre class="w-full"><code>&lt;%= f.choices :disabled_field, ["Option 1", "Option 2"], { selected: "Option 1" }, { disabled: true } %&gt;</code></pre>
      <% end %>
    <% end %>
  </section>

  <section class="my-12">
    <%= render Ui::Card::Component.new do |component| %>
      <% component.with_header align: :left, title: "Validation" %>

      <% component.with_body do %>
        <% user = User.new %>
        <% user.errors.add(:state, "is required") %>
        <%= form_with model: user, url: root_path do |f| %>
          <%= f.choices :state, options_for_select([["California", "CA"], ["New York", "NY"], ["Texas", "TX"]]), { include_blank: "Select state…" } %>
        <% end %>

        <%= form_with url: root_path do |f| %>
          <%= f.choices :state, options_for_select([["California", "CA"], ["New York", "NY"], ["Texas", "TX"]]), { include_blank: "Select state…" }, { error: "This field has a custom error" } %>
        <% end %>
      <% end %>

      <% component.with_footer do %>
        <pre class="w-full"><code>&lt;!-- Active Record Validations works automatically --&gt;
&lt;%= f.choices :state, options_for_select([["California", "CA"], ["New York", "NY"], ["Texas", "TX"]]), { include_blank: "Select state…" } %&gt;

&lt;!-- You are able to add custom error messages --&gt;
&lt;%= f.choices :state, options_for_select([["California", "CA"], ["New York", "NY"], ["Texas", "TX"]]), { include_blank: "Select state…" }, { error: "This field has a custom error" } %&gt;</code></pre>
      <% end %>
    <% end %>
  </section>


</article>
